<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Photo</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="photo-viewer">
        <img th:src="${picture.url}" id="photo" class="fullscreen">

        <button id="edit-button">Редактировать</button>
        <button id="delete-button">Удалить</button>

        <div id="edit-form" class="hidden">
            <form th:action="@{/pictures/{id}/edit(id=${picture.id})}" method="post">
                <label>URL:</label>
                <input type="text" name="url" th:value="${picture.url}" required>
                <label>Описание:</label>
                <textarea name="description" th:text="${picture.description}"></textarea>
                <button type="submit">Сохранить</button>
            </form>
            <button id="close-edit-form">Закрыть</button>
        </div>

        <div id="confirm-delete" class="hidden">
            <p>Вы уверены?</p>
            <form th:action="@{/pictures/{id}/delete(id=${picture.id})}" method="post">
                <button type="submit">Да</button>
                <button id="cancel-delete">Нет</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById("photo").addEventListener("click", function() {
            window.history.back();
        });

        document.getElementById("edit-button").addEventListener("click", function() {
            document.getElementById("edit-form").classList.remove("hidden");
        });

        document.getElementById("close-edit-form").addEventListener("click", function() {
            document.getElementById("edit-form").classList.add("hidden");
        });

        document.getElementById("delete-button").addEventListener("click", function() {
            document.getElementById("confirm-delete").classList.remove("hidden");
        });

        document.getElementById("cancel-delete").addEventListener("click", function(event) {
            event.preventDefault();
            document.getElementById("confirm-delete").classList.add("hidden");
        });
    </script>
</body>
</html>
